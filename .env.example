# Supabase - Your Database
# This is where your app stores documents and chat history
# Get your keys from: https://supabase.com/dashboard/project/efyysxkdlugpnurvajhp/settings/api
NEXT_PUBLIC_SUPABASE_URL=key_from_supabase
NEXT_PUBLIC_SUPABASE_ANON_KEY=key_from_supabase
SUPABASE_SERVICE_ROLE_KEY=key_from_supabase

# AI Chat Model - OpenAI (recommended)
# This is the AI that answers user questions
# Get your API key from: https://platform.openai.com/api-keys
#OPENAI_API_KEY=get_from_openai
OPENAI_MODEL=gpt-4o-mini

# Document Search Model - OpenAI (recommended)
# This converts your documents into numbers so the app can search them
# Uses the same API key as above - no need for a separate key
# This model is fast, accurate, and cheap to use
OPENAI_EMBEDDINGS_MODEL=text-embedding-3-small

# Re-ranking - Makes Search Results Better
# When enabled, the app takes search results and re-orders them to show the best matches first
# Default: disabled (set to 'true' to enable)
ENABLE_RERANKING=false
# How many results to look at before picking the best ones (default: 30)
# More = better results but slower. Try 20-50.
RERANKING_TOP_K_CANDIDATES=30
# How many final results to show after re-ranking (default: 8)
RERANKING_TOP_K_RESULTS=8
# Diversity Mode - Avoids showing similar results
# When enabled, tries to show different types of results instead of all similar ones
# Default: disabled (set to 'true' to enable)
ENABLE_MMR=false
# Diversity balance (0-1): 0 = show most relevant, 1 = show most different
# 0.5 is a good middle ground
MMR_LAMBDA=0.5

# Query Processing - Makes User Questions Better
# When enabled, the app improves user questions before searching
# This helps find better results even if the question isn't worded perfectly
# Default: disabled (set to 'true' to enable)
ENABLE_QUERY_PROCESSING=false
# Add related words to the question (e.g., "car" also searches for "vehicle", "automobile")
# Default: disabled (set to 'true' to enable)
ENABLE_QUERY_EXPANSION=false
# Rewrite the question in different ways to find more results
# Default: disabled (set to 'true' to enable)
ENABLE_QUERY_REWRITING=false
# Understand what the user is really asking for
# Default: disabled (set to 'true' to enable)
ENABLE_QUERY_UNDERSTANDING=false
# How many related words to add (default: 5)
QUERY_MAX_EXPANSIONS=5
# How many different ways to rewrite the question (default: 3)
QUERY_MAX_REWRITES=3

# Smart Document Splitting
# When enabled, splits documents at natural break points (like paragraph ends)
# instead of just cutting them at fixed sizes
# This helps the app find better matches because each piece makes more sense on its own
# Default: disabled (set to 'true' to enable)
USE_SEMANTIC_CHUNKING=false
# Note: When enabled, this will:
# - Split documents at places that make sense (not just every 500 characters)
# - Keep code blocks, tables, and lists together as complete units
# - Adjust chunk sizes based on content (technical docs get smaller chunks)
# Warning: This uses more API calls when uploading documents, which costs more

# Sentry - Error Tracking (optional)
# If you want to track errors in your app, add your Sentry key here
NEXT_PUBLIC_SENTRY_DSN=your_sentry_dsn

# Multi-tenant Support
# If you're running multiple versions of this app, each needs a unique tenant ID
DEFAULT_TENANT_ID=default-tenant

# Environment
# Set to "development" for local testing, "production" for live app
NODE_ENV=development

